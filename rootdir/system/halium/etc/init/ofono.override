description "oFono Mobile telephony stack"

start on started dbus and rild-ready
stop on stopping dbus

expect fork
respawn

script
	export OFONO_RIL_RAT_LTE=1
	export OFONO_RIL_DEVICE=ril
	export OFONO_RIL_NUM_SIM_SLOTS=1

	cat /proc/cmdline | grep -E "oemandroidboot\.phoneid=[^ ,]+,[^ ,]+" && \
		export OFONO_RIL_NUM_SIM_SLOTS=2

	exec ofonod -P provision,udev*,dun*,smart*,hfp_bluez5,stktest,sap
end script
